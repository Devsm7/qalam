// Translation data for English and Arabic
const translations = {
    en: {
        // Navigation
        nav_vision: "Vision",
        nav_features: "What We Do",
        nav_unique: "Why Qalam",
        nav_team: "Team",
        nav_download: "Download App",

        // Hero Section
        hero_title: "Bridging Arabic Calligraphy and Technology in a Unique Way",
        hero_subtitle: "A digital sanctuary for Arabic calligraphy enthusiasts. Identify, learn, and appreciate the timeless beauty of Arabic Calligraphy.",
        hero_btn_start: "Get Started",
        hero_btn_learn: "Learn More",

        // Vision Section
        vision_subtitle: "Our Vision",
        vision_title: "Preserving Heritage Through Innovation",
        vision_card1_title: "Art for everyone",
        vision_card1_text: "Make Arabic calligraphy accessible to everyone, everywhere through the power of modern technology.",
        vision_card2_title: "AI powered",
        vision_card2_text: "Preserve cultural heritage by utilizing advanced AI to recognize and interpret calligraphy styles.",
        vision_card3_title: "Community Driven",
        vision_card3_text: "Build a vibrant community where calligraphers and admirers connect, share, and grow together.",

        // Features Section
        features_subtitle: "What We Do",
        features_title: "Empowering The Art of The Pen",
        feature1_title: "Hebr AI - Arabic Calligraphy Recognizer",
        feature1_text: "Upload any calligraphy image and let Hebr AI identify the type, style. It's like having an expert curator in your pocket.",
        feature1_list1: "Instant Style Identification",
        feature1_list2: "Text Reading & Translation",
        feature2_title: "Artist Marketplace",
        feature2_text: "A dedicated space for calligraphers to thrive. Sell your masterpieces, showcase your portfolio, and receive custom commissions from admirers.",
        feature2_list1: "Sell High-Res Artwork",
        feature2_list2: "Portfolio Showcase",
        feature3_title: "Community",
        feature3_text: "Whether you are a beginner or a master, Qalam is your home. Explore styles, connect with artists.",
        feature3_list1: "Explore Styles",
        feature3_list2: "Engage with Artists",

        // Unique Section
        unique_title: "Why Qalam Is Unique",
        unique_text: "The first platform combining AI with the tradition of Arabic calligraphy.",
        unique_stat1_label: "AI Platform for Arabic Calligraphy",
        unique_stat2_label: "Styles to Explore",

        // Team Section
        team_subtitle: "Who We Are",
        team_title: "Meet the Team",
        team_member1_name: "PhD.Sultan Alsarra",
        team_member2_name: "Ahmad Alismaeil",
        team_member3_name: "Bader Alzahrani",
        team_member4_name: "Bader Alburaidi",
        team_member5_name: "Mohammd Alzamil",
        team_member6_name: "Sulaiman Mokhaniq",
        team_member7_name: "Abdullah Alyousef",
        team_role_mentor: "Mentor",
        team_role_po: "Product Owner",
        team_role_sm: "Scrum Master",
        team_role_frontend: "Frontend Developer",
        team_role_backend: "Backend Developer",
        team_role_flutter: "Flutter Developer",
        team_linkedin: "LinkedIn",

        // Download Section
        download_title: "Ready to Explore?",
        download_text: "Download Qalam today and start your journey into the world of Arabic calligraphy.",
        download_btn_small: "Download APK",
        download_btn_large: "Android Version",

        // Footer
        footer_tagline: "Where artistry, technology, and community come together to keep the pen alive.",
        footer_quick_links: "Quick Links",
        footer_copyright: "© 2025 Qalam. All rights reserved.",
        footer_link_vision: "Vision",
        footer_link_features: "Features",
        footer_link_team: "Team"
    },
    ar: {
        // Navigation
        nav_vision: "الرؤية",
        nav_features: "ما نقدمه",
        nav_unique: "لماذا قلم",
        nav_team: "الفريق",
        nav_download: "تحميل التطبيق",

        // Hero Section
        hero_title: "ربط الخط العربي بالتكنولوجيا بطريقة فريدة",
        hero_subtitle: "ملاذ رقمي لعشاق الخط العربي.",
        hero_btn_start: "ابدأ الآن",
        hero_btn_learn: "اعرف المزيد",

        // Vision Section
        vision_subtitle: "رؤيتنا",
        vision_title: "الحفاظ على التراث من خلال الابتكار",
        vision_card1_title: " الخط العربي للجميع",
        vision_card1_text: "جعل الخط العربي متاحاً للجميع من خلال التكنولوجيا .",
        vision_card2_title: "مدعوم بالذكاء الاصطناعي",
        vision_card2_text: "تعرف على تراث الخط العربي من خلال ذكاء اصطناعي قادر على التعرف على أنواع الخط المختلفة.",
        vision_card3_title: "مجتمع متكامل",
        vision_card3_text: "بناء مجتمع نابض بالحياة حيث يتواصل الخطاطون والمعجبون ويتشاركون وينمون معاً.",

        // Features Section
        features_subtitle: "ما نقدمه",
        features_title: "تمكين فن القلم",
        feature1_title: "حِبر AI - للتعرف على الخط العربي",
        feature1_text: "قم بتحميل أي صورة للخط العربي ودع حِبر AI يحدد النوع والأسلوب.",
        feature1_list1: "التعرف الفوري على الأسلوب",
        feature1_list2: "إعطاء نبذة عن نوع الخط وطريقة كتابته",
        feature2_title: "سوق الفنانين",
        feature2_text: "مساحة مخصصة للخطاطين للازدهار. بيع روائعك، وعرض محفظتك، واستقبال طلبات مخصصة من المعجبين.",
        feature2_list1: "بيع الأعمال الفنية عالية الدقة",
        feature2_list2: "عرض المحفظة",
        feature3_title: "المجتمع",
        feature3_text: "سواء كنت مبتدئاً أو خبيراً، قلم هو موطنك. استكشف الأساليب، وتواصل مع الفنانين.",
        feature3_list1: "استكشف الأساليب",
        feature3_list2: "تفاعل مع الفنانين",

        // Unique Section
        unique_title: "لماذا منصة قلم فريدة",
        unique_text: "أول منصة تجمع بين الذكاء الاصطناعي الخط العربي.",
        unique_stat1_label: "منصة ذكاء اصطناعي للخط العربي",
        unique_stat2_label: "أسلوب للتعرف عليه",

        // Team Section
        team_subtitle: "من نحن",
        team_title: "تعرف على الفريق",
        team_member1_name: "د. سلطان السراء",
        team_member2_name: "أحمد السماعيل",
        team_member3_name: "بدر الزهراني",
        team_member4_name: "بدر البريدي",
        team_member5_name: "محمد الزامل",
        team_member6_name: "سليمان مخانق",
        team_member7_name: "عبدالله اليوسف",
        team_role_mentor: "mentor",
        team_role_po: "product owner",
        team_role_sm: "scrum master",
        team_role_frontend: "frontend developer",
        team_role_backend: "backend developer",
        team_role_flutter: "flutter developer",
        team_linkedin: "linkedin",

        // Download Section
        download_title: "مستعد للاستكشاف؟",
        download_text: "قم بتنزيل قلم اليوم وابدأ رحلتك في عالم الخط العربي.",
        download_btn_small: "تحميل APK",
        download_btn_large: "نسخة أندرويد",

        // Footer
        footer_tagline: "حيث يجتمع الخط والتكنولوجيا.",
        footer_quick_links: "روابط سريعة",
        footer_copyright: "© 2025 قلم. جميع الحقوق محفوظة.",
        footer_link_vision: "الرؤية",
        footer_link_features: "الميزات",
        footer_link_team: "الفريق"
    }
};

// Current language state
let currentLang = localStorage.getItem('qalamLang') || 'en';

// Function to switch language
function switchLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('qalamLang', lang);

    const htmlElement = document.documentElement;
    htmlElement.setAttribute('lang', lang);
    htmlElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');

    // Update language toggle button text
    const langText = document.getElementById('lang-text');
    if (langText) {
        langText.textContent = lang === 'en' ? 'عربي' : 'English';
    }

    // Apply translations
    applyTranslations(lang);
}

// Function to apply translations to the page
function applyTranslations(lang) {
    const t = translations[lang];

    // Navigation
    updateText('[data-i18n="nav_vision"]', t.nav_vision);
    updateText('[data-i18n="nav_features"]', t.nav_features);
    updateText('[data-i18n="nav_unique"]', t.nav_unique);
    updateText('[data-i18n="nav_team"]', t.nav_team);
    updateText('[data-i18n="nav_download"]', t.nav_download);

    // Hero Section
    updateText('[data-i18n="hero_title"]', t.hero_title);
    updateText('[data-i18n="hero_subtitle"]', t.hero_subtitle);
    updateText('[data-i18n="hero_btn_start"]', t.hero_btn_start);
    updateText('[data-i18n="hero_btn_learn"]', t.hero_btn_learn);

    // Vision Section
    updateText('[data-i18n="vision_subtitle"]', t.vision_subtitle);
    updateText('[data-i18n="vision_title"]', t.vision_title);
    updateText('[data-i18n="vision_card1_title"]', t.vision_card1_title);
    updateText('[data-i18n="vision_card1_text"]', t.vision_card1_text);
    updateText('[data-i18n="vision_card2_title"]', t.vision_card2_title);
    updateText('[data-i18n="vision_card2_text"]', t.vision_card2_text);
    updateText('[data-i18n="vision_card3_title"]', t.vision_card3_title);
    updateText('[data-i18n="vision_card3_text"]', t.vision_card3_text);

    // Features Section
    updateText('[data-i18n="features_subtitle"]', t.features_subtitle);
    updateText('[data-i18n="features_title"]', t.features_title);
    updateText('[data-i18n="feature1_title"]', t.feature1_title);
    updateText('[data-i18n="feature1_text"]', t.feature1_text);
    updateText('[data-i18n="feature1_list1"]', t.feature1_list1);
    updateText('[data-i18n="feature1_list2"]', t.feature1_list2);
    updateText('[data-i18n="feature2_title"]', t.feature2_title);
    updateText('[data-i18n="feature2_text"]', t.feature2_text);
    updateText('[data-i18n="feature2_list1"]', t.feature2_list1);
    updateText('[data-i18n="feature2_list2"]', t.feature2_list2);
    updateText('[data-i18n="feature3_title"]', t.feature3_title);
    updateText('[data-i18n="feature3_text"]', t.feature3_text);
    updateText('[data-i18n="feature3_list1"]', t.feature3_list1);
    updateText('[data-i18n="feature3_list2"]', t.feature3_list2);

    // Unique Section
    updateText('[data-i18n="unique_title"]', t.unique_title);
    updateText('[data-i18n="unique_text"]', t.unique_text);
    updateText('[data-i18n="unique_stat1_label"]', t.unique_stat1_label);
    updateText('[data-i18n="unique_stat2_label"]', t.unique_stat2_label);

    // Team Section
    updateText('[data-i18n="team_subtitle"]', t.team_subtitle);
    updateText('[data-i18n="team_title"]', t.team_title);
    updateText('[data-i18n="team_member1_name"]', t.team_member1_name);
    updateText('[data-i18n="team_member2_name"]', t.team_member2_name);
    updateText('[data-i18n="team_member3_name"]', t.team_member3_name);
    updateText('[data-i18n="team_member4_name"]', t.team_member4_name);
    updateText('[data-i18n="team_member5_name"]', t.team_member5_name);
    updateText('[data-i18n="team_member6_name"]', t.team_member6_name);
    updateText('[data-i18n="team_member7_name"]', t.team_member7_name);
    updateText('[data-i18n="team_role_mentor"]', t.team_role_mentor);
    updateText('[data-i18n="team_role_po"]', t.team_role_po);
    updateText('[data-i18n="team_role_sm"]', t.team_role_sm);
    updateText('[data-i18n="team_role_frontend"]', t.team_role_frontend);
    updateText('[data-i18n="team_role_backend"]', t.team_role_backend);
    updateText('[data-i18n="team_role_flutter"]', t.team_role_flutter);
    updateTextAll('[data-i18n="team_linkedin"]', t.team_linkedin);

    // Download Section
    updateText('[data-i18n="download_title"]', t.download_title);
    updateText('[data-i18n="download_text"]', t.download_text);
    updateText('[data-i18n="download_btn_small"]', t.download_btn_small);
    updateText('[data-i18n="download_btn_large"]', t.download_btn_large);

    // Footer
    updateText('[data-i18n="footer_tagline"]', t.footer_tagline);
    updateText('[data-i18n="footer_quick_links"]', t.footer_quick_links);
    updateText('[data-i18n="footer_copyright"]', t.footer_copyright);
    updateText('[data-i18n="footer_link_vision"]', t.footer_link_vision);
    updateText('[data-i18n="footer_link_features"]', t.footer_link_features);
    updateText('[data-i18n="footer_link_team"]', t.footer_link_team);
}

// Helper function to update text content
function updateText(selector, text) {
    const element = document.querySelector(selector);
    if (element) {
        element.textContent = text;
    }
}

// Helper function to update all matching elements
function updateTextAll(selector, text) {
    const elements = document.querySelectorAll(selector);
    elements.forEach(el => {
        el.textContent = text;
    });
}

document.addEventListener('DOMContentLoaded', () => {
    // Initialize language
    switchLanguage(currentLang);

    // Language toggle button
    const languageToggle = document.getElementById('language-toggle');
    if (languageToggle) {
        languageToggle.addEventListener('click', () => {
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            switchLanguage(newLang);
        });
    }

    // Mobile Menu
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');

    if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Close menu when clicking a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });
    }

    // Scroll Animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px"
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
                observer.unobserve(entry.target); // Only animate once
            }
        });
    }, observerOptions);

    const animatedElements = document.querySelectorAll('.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-up');
    animatedElements.forEach(el => observer.observe(el));

    // Smooth Scroll for Anchor Links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });
});
